<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.Final.Mapper.MovieMapper">

	<select id="selectMovieList" parameterType="Map"
		resultType="com.gd.Final.dto.MovieDto">
		SELECT movie_num movieNum, title, image
		FROM Movie
		where 1 = 1

		<if test="searchMovie != null">
			AND title LIKE CONCAT('%', #{searchMovie}, '%')
		</if>

		ORDER BY movie_num
		LIMIT #{beginRow},#{rowPerPage};
	</select>

	<select id="selectMovieCount" resultType="int">
		SELECT COUNT(*) FROM
		Movie;
	</select>

	<select id="selectMovieOne" parameterType="Map"
		resultType="com.gd.Final.dto.MovieDto">
		SELECT movie_num AS movieNum,Genre
			,title,director,producer
			,release_date releaseDate
			,runtime
			,DESCRIPTION
			,image
		FROM Movie 
		WHERE movie_num = #{movieNum};
		
	</select>

</mapper>